<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta name="description" content="Fireblood - Power your day with the premium health supplement for optimal performance." />
    
    <!-- Fixes for path-based routing -->
    <base href="/" />
    
    <!-- Addressing the black screen issue -->
    <style>
      body {
        margin: 0;
        padding: 0;
        background-color: #000000;
        color: white;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
      }
      #root {
        min-height: 100vh;
      }
      .loading-screen {
        width: 100vw;
        height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-direction: column;
        background-color: #000000;
        color: #990000;
        position: fixed;
        top: 0;
        left: 0;
        z-index: 9999;
      }
      .loading-screen img {
        width: 120px;
        height: auto;
        margin-bottom: 20px;
      }
      .loading-screen h1 {
        font-size: 24px;
        margin-bottom: 20px;
      }
      .loading-dots {
        display: flex;
      }
      .loading-dots span {
        width: 10px;
        height: 10px;
        margin: 0 5px;
        background-color: #990000;
        border-radius: 50%;
        display: inline-block;
        animation: bounce 1.5s infinite ease-in-out;
      }
      .loading-dots span:nth-child(2) {
        animation-delay: 0.2s;
      }
      .loading-dots span:nth-child(3) {
        animation-delay: 0.4s;
      }
      @keyframes bounce {
        0%, 100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(-10px);
        }
      }
    </style>
    
    <!-- Handle SPA routing for Netlify -->
    <script type="text/javascript">
      // Redirect all routes to index.html to handle SPA routing
      (function(l) {
        if (l.search[1] === '/' ) {
          var decoded = l.search.slice(1).split('&').map(function(s) { 
            return s.replace(/~and~/g, '&')
          }).join('?');
          window.history.replaceState(null, null,
              l.pathname.slice(0, -1) + decoded + l.hash
          );
        }
      }(window.location));
    </script>
    
    <!-- Simple redirect script for any deployment platform -->
    <script>
      (function() {
        // Don't redirect if we're already at the root
        if (window.location.pathname === '/' || window.location.pathname === '/index.html') return;
        
        // For all other paths, redirect to root
        console.log('Redirecting from', window.location.pathname, 'to /');
        window.location.replace('/');
      })();
    </script>
  </head>
  <body>
    <!-- Loading screen that shows while React loads -->
    <div class="loading-screen" id="fireblood-loading">
      <h1>FIREBLOOD</h1>
      <div class="loading-dots">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </div>
    
    <div id="root"></div>
    
    <!-- Script to hide loading screen once React is loaded -->
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        // Hide loading screen when the main app has loaded
        window.addEventListener('load', function() {
          setTimeout(function() {
            var loadingScreen = document.getElementById('fireblood-loading');
            if (loadingScreen) {
              loadingScreen.style.opacity = '0';
              loadingScreen.style.transition = 'opacity 0.5s ease';
              setTimeout(function() {
                loadingScreen.style.display = 'none';
              }, 500);
            }
          }, 500);
        });
      });
    </script>
    
    <script type="module" src="/src/main.tsx"></script>
    <!-- This script injects a replit badge into the page, please feel free to remove this line -->
    <script type="text/javascript" src="https://replit.com/public/js/replit-badge-v3.js"></script>

    <!-- TIXAE Agents Chat Widget -->
    <div style="width: 0; height: 0;" id="VG_OVERLAY_CONTAINER">
      <!-- Here is where TIXAE Agents renders the widget. -->
      <!-- Set render to 'full-width' then adjust the width and height to 500px (for example) to render the chatbot itself without the popup. -->
    </div>

    <!-- Remove 'defer' if you want widget to load faster (Will affect website loading) -->
    <script defer>
      (function() {
          window.VG_CONFIG = {
              ID: "vGpPdGCnk1Uw56dcRerP", // YOUR AGENT ID
              region: 'na', // YOUR ACCOUNT REGION 
              render: 'bottom-right', // can be 'full-width' or 'bottom-left' or 'bottom-right'
              // modalMode: true, // Set this to 'true' to open the widget in modal mode
              stylesheets: [
                  // Base TIXAE Agents CSS
                  "https://vg-bunny-cdn.b-cdn.net/vg_live_build/styles.css",
                  // Add your custom css stylesheets, Can also add relative URL ('/public/your-file.css)
              ],
              // THIS IS SUPPOSED TO BE CHANGED OR REMOVED.
              // user: {
              //     name: 'John Doe', // User's name
              //     email: 'johndoe@gmail.com', // User's email
              //     phone: '+1234567890', // User's phone number
              // }
              // Optional user data -- end
              // **
              // userID: 'USER_ID', // If you want to use your own user_id
              // autostart: true, // Whether to autostart the chatbot with the proactive message
          }
          var VG_SCRIPT = document.createElement("script");
          VG_SCRIPT.src = "https://vg-bunny-cdn.b-cdn.net/vg_live_build/vg_bundle.js";
          VG_SCRIPT.defer = true; // Remove 'defer' if you want widget to load faster (Will affect website loading)
          document.body.appendChild(VG_SCRIPT);
      })()
    </script>
  </body>
</html>